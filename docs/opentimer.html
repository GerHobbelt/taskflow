<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Real Use Cases &raquo; Static Timing Analysis | Taskflow QuickStart</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <span id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">
        <a href="https://taskflow.github.io"><img src="taskflow_logo.png" alt="" />Taskflow</a> <span class="m-breadcrumb">|</span> <a href="index.html" class="m-thin">QuickStart</a>
      </span>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Handbook</a></li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="usecases.html">Real Use Cases</a> &raquo;</span>
          Static Timing Analysis
        </h1>
        <nav class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li><a href="#UseCasesOpenTimer">OpenTimer: A High-performance Timing Analysis Tool</a></li>
            <li><a href="#UseCaseOpenTimerProgrammingEffort">Programming Effort</a></li>
            <li><a href="#UseCaseOpenTimerPerformanceImprovement">Performance Improvement</a></li>
            <li><a href="#UseCaseOpenTimerConclusion">Conclusion</a></li>
            <li><a href="#UseCaseOpenTimerReferences">References</a></li>
          </ul>
        </nav>
<p>We have applied Taskflow to solve a real-world VLSI static timing analysis problem that incorporates hundreds of millions of tasks and dependencies. The goal is to analyze the timing behavior of a design.</p><section id="UseCasesOpenTimer"><h2><a href="#UseCasesOpenTimer">OpenTimer: A High-performance Timing Analysis Tool</a></h2><p>Static timing analysis (STA) is an important step in the overall chip design flow. It verifies the static behavior of a circuit design and ensure its correct functionality under the given clock speed. However, efficient parallel timing analysis is extremely challenging to design and implement, due to large irregularity and graph-oriented computing. The following figure shows an extracted timing graph from an industrial design.</p><img class="m-image" src="opentimer_1.png" alt="Image" /><p>We consider our research project <a href="https://github.com/OpenTimer/OpenTimer">OpenTimer</a>, an open-source static timing analyzer that has been used in many industrial and academic projects. The first release v1 in 2015 implemented the <em>pipeline-based levelization</em> algorithm using the OpenMP 4.5 task dependency clause. To overcome the performance bottleneck caused by pipeline, we rewrote the core incremental timing engine using Taskflow in the second release v2.</p></section><section id="UseCaseOpenTimerProgrammingEffort"><h2><a href="#UseCaseOpenTimerProgrammingEffort">Programming Effort</a></h2><p>The table below measures the software costs of two OpenTimer versions using the Linux tool <a href="https://dwheeler.com/sloccount/">SLOCCount</a>. In OpenTimer v2, a large amount of exhaustive OpenMP dependency clauses that were used to carry out task dependencies are now replaced with only a few lines of flexible Taskflow code (9123 vs 4482). The maximum cyclomatic complexity in a single function is reduced from 58 to 20, due to Taskflow&#x27;s programmability.</p><table class="m-table"><thead><tr><th>Tool</th><th>Task Model</th><th>Lines of Code</th><th>Cyclomatic Complexity</th><th>Cost</th></tr></thead><tbody><tr><td>OpenTimer v1</td><td>OpenMP 4.5</td><td>9123</td><td>58</td><td>$275,287</td></tr><tr><td>OpenTimer v2</td><td>Taskflow</td><td>4482</td><td>20</td><td>$130,523</td></tr></tbody></table><p>OpenTimer v1 relied on a pipeline data structure to adtop loop parallelism with OpenMP. We found it very difficult to go beyond this paradigm because of the insufficient support for dynamic dependencies in OpenMP. With Taskflow in place, we can break this bottleneck and easily model both static and dynamic task dependencies at programming time and runtime. The task dependency graph flows computations naturally with the timing graph, providing improved asynchrony and performance. The following figure shows a task graph to carry one iteration of timing update.</p><div class="m-graph"><svg style="width: 52.562rem; height: 71.000rem;" viewBox="0.00 0.00 841.28 1136.31">
<g transform="scale(1 1) rotate(0) translate(4 1132.31)">
<title>Taskflow</title>
<g class="m-node">
<title>[A33] bprop_tau2015_clk</title>
<ellipse cx="207.87" cy="-18.38" rx="139.1" ry="18.27"/>
<text text-anchor="middle" x="207.87" y="-14.58">[A33] bprop_tau2015_clk</text>
</g>
<g class="m-node">
<title>[A32] bprop_f1:CLK</title>
<ellipse cx="207.87" cy="-91.15" rx="111.95" ry="18.27"/>
<text text-anchor="middle" x="207.87" y="-87.35">[A32] bprop_f1:CLK</text>
</g>
<g class="m-edge">
<title>[A32] bprop_f1:CLK&#45;&gt;[A33] bprop_tau2015_clk</title>
<path d="M207.87,-72.66C207.87,-65.12 207.87,-56.11 207.87,-47.66"/>
<polygon points="211.37,-47.68 207.87,-37.68 204.37,-47.68 211.37,-47.68"/>
</g>
<g class="m-node">
<title>[A31] bprop_f1:Q</title>
<ellipse cx="294.87" cy="-163.92" rx="98.99" ry="18.27"/>
<text text-anchor="middle" x="294.87" y="-160.12">[A31] bprop_f1:Q</text>
</g>
<g class="m-edge">
<title>[A31] bprop_f1:Q&#45;&gt;[A32] bprop_f1:CLK</title>
<path d="M268.42,-146.15C256.66,-137.36 243,-126.42 231.58,-116.69"/>
<polygon points="234.19,-113.46 224.35,-109.54 229.6,-118.74 234.19,-113.46"/>
</g>
<g class="m-edge">
<title>[A31] bprop_f1:Q&#45;&gt;[A32] bprop_f1:CLK</title>
<path d="M279.28,-145.43C269.16,-136.45 255.72,-125.39 243.18,-115.67"/>
<polygon points="245.78,-112.48 235.7,-109.2 241.53,-118.05 245.78,-112.48"/>
</g>
<g class="m-node">
<title>[A30] bprop_u4:B</title>
<ellipse cx="294.87" cy="-236.69" rx="100.32" ry="18.27"/>
<text text-anchor="middle" x="294.87" y="-232.89">[A30] bprop_u4:B</text>
</g>
<g class="m-edge">
<title>[A30] bprop_u4:B&#45;&gt;[A31] bprop_f1:Q</title>
<path d="M294.87,-218.2C294.87,-210.66 294.87,-201.65 294.87,-193.2"/>
<polygon points="298.37,-193.22 294.87,-183.22 291.37,-193.22 298.37,-193.22"/>
</g>
<g class="m-node">
<title>[A29] bprop_u2:A</title>
<ellipse cx="732.87" cy="-236.69" rx="100.32" ry="18.27"/>
<text text-anchor="middle" x="732.87" y="-232.89">[A29] bprop_u2:A</text>
</g>
<g class="m-edge">
<title>[A29] bprop_u2:A&#45;&gt;[A31] bprop_f1:Q</title>
<path d="M659.56,-223.85C581.95,-211.31 459.66,-191.55 378.39,-178.42"/>
<polygon points="379.12,-174.83 368.69,-176.69 378.01,-181.74 379.12,-174.83"/>
</g>
<g class="m-node">
<title>[A28] bprop_u2:Y</title>
<ellipse cx="732.87" cy="-309.46" rx="100.32" ry="18.27"/>
<text text-anchor="middle" x="732.87" y="-305.66">[A28] bprop_u2:Y</text>
</g>
<g class="m-edge">
<title>[A28] bprop_u2:Y&#45;&gt;[A29] bprop_u2:A</title>
<path d="M726.96,-290.97C726.18,-283.34 725.95,-274.21 726.26,-265.68"/>
<polygon points="729.8,-266.2 726.98,-255.99 722.81,-265.73 729.8,-266.2"/>
</g>
<g class="m-edge">
<title>[A28] bprop_u2:Y&#45;&gt;[A29] bprop_u2:A</title>
<path d="M738.79,-290.97C739.57,-283.34 739.8,-274.21 739.49,-265.68"/>
<polygon points="742.93,-265.73 738.77,-255.99 735.95,-266.2 742.93,-265.73"/>
</g>
<g class="m-node">
<title>[A27] bprop_u3:A</title>
<ellipse cx="727.87" cy="-382.23" rx="100.32" ry="18.27"/>
<text text-anchor="middle" x="727.87" y="-378.43">[A27] bprop_u3:A</text>
</g>
<g class="m-edge">
<title>[A27] bprop_u3:A&#45;&gt;[A28] bprop_u2:Y</title>
<path d="M729.11,-363.74C729.65,-356.11 730.29,-346.98 730.9,-338.45"/>
<polygon points="734.44,-338.98 731.65,-328.76 727.46,-338.48 734.44,-338.98"/>
</g>
<g class="m-node">
<title>[A26] bprop_u3:Y</title>
<ellipse cx="727.87" cy="-455" rx="100.32" ry="18.27"/>
<text text-anchor="middle" x="727.87" y="-451.2">[A26] bprop_u3:Y</text>
</g>
<g class="m-edge">
<title>[A26] bprop_u3:Y&#45;&gt;[A27] bprop_u3:A</title>
<path d="M721.96,-436.51C721.18,-428.88 720.95,-419.75 721.26,-411.22"/>
<polygon points="724.8,-411.74 721.98,-401.52 717.81,-411.27 724.8,-411.74"/>
</g>
<g class="m-edge">
<title>[A26] bprop_u3:Y&#45;&gt;[A27] bprop_u3:A</title>
<path d="M733.79,-436.51C734.57,-428.88 734.8,-419.75 734.49,-411.22"/>
<polygon points="737.93,-411.27 733.77,-401.52 730.95,-411.74 737.93,-411.27"/>
</g>
<g class="m-node">
<title>[A25] bprop_out</title>
<ellipse cx="707.87" cy="-527.77" rx="92.76" ry="18.27"/>
<text text-anchor="middle" x="707.87" y="-523.97">[A25] bprop_out</text>
</g>
<g class="m-edge">
<title>[A25] bprop_out&#45;&gt;[A26] bprop_u3:Y</title>
<path d="M712.82,-509.28C715,-501.57 717.61,-492.31 720.05,-483.7"/>
<polygon points="723.64,-484.87 722.99,-474.29 716.9,-482.97 723.64,-484.87"/>
</g>
<g class="m-node">
<title>[A24] bprop_inp2</title>
<ellipse cx="488.87" cy="-18.38" rx="98.99" ry="18.27"/>
<text text-anchor="middle" x="488.87" y="-14.58">[A24] bprop_inp2</text>
</g>
<g class="m-node">
<title>[A23] bprop_u1:B</title>
<ellipse cx="488.87" cy="-91.15" rx="100.32" ry="18.27"/>
<text text-anchor="middle" x="488.87" y="-87.35">[A23] bprop_u1:B</text>
</g>
<g class="m-edge">
<title>[A23] bprop_u1:B&#45;&gt;[A24] bprop_inp2</title>
<path d="M488.87,-72.66C488.87,-65.12 488.87,-56.11 488.87,-47.66"/>
<polygon points="492.37,-47.68 488.87,-37.68 485.37,-47.68 492.37,-47.68"/>
</g>
<g class="m-node">
<title>[A22] bprop_inp1</title>
<ellipse cx="707.87" cy="-18.38" rx="98.99" ry="18.27"/>
<text text-anchor="middle" x="707.87" y="-14.58">[A22] bprop_inp1</text>
</g>
<g class="m-node">
<title>[A21] bprop_u1:A</title>
<ellipse cx="707.87" cy="-91.15" rx="100.32" ry="18.27"/>
<text text-anchor="middle" x="707.87" y="-87.35">[A21] bprop_u1:A</text>
</g>
<g class="m-edge">
<title>[A21] bprop_u1:A&#45;&gt;[A22] bprop_inp1</title>
<path d="M707.87,-72.66C707.87,-65.12 707.87,-56.11 707.87,-47.66"/>
<polygon points="711.37,-47.68 707.87,-37.68 704.37,-47.68 711.37,-47.68"/>
</g>
<g class="m-node">
<title>[A20] bprop_u1:Y</title>
<ellipse cx="513.87" cy="-163.92" rx="100.32" ry="18.27"/>
<text text-anchor="middle" x="513.87" y="-160.12">[A20] bprop_u1:Y</text>
</g>
<g class="m-edge">
<title>[A20] bprop_u1:Y&#45;&gt;[A23] bprop_u1:B</title>
<path d="M501.78,-145.43C498.27,-137.72 494.77,-128.47 492.05,-119.85"/>
<polygon points="495.19,-119.11 489.09,-110.45 488.46,-121.02 495.19,-119.11"/>
</g>
<g class="m-edge">
<title>[A20] bprop_u1:Y&#45;&gt;[A23] bprop_u1:B</title>
<path d="M513.61,-145.43C511.65,-137.63 508.57,-128.26 505.15,-119.56"/>
<polygon points="507.99,-118.3 500.88,-110.45 501.54,-121.02 507.99,-118.3"/>
</g>
<g class="m-edge">
<title>[A20] bprop_u1:Y&#45;&gt;[A21] bprop_u1:A</title>
<path d="M552.6,-146.69C580.36,-136.13 618.13,-122.31 649.51,-111.23"/>
<polygon points="650.61,-114.2 658.88,-107.59 648.29,-107.6 650.61,-114.2"/>
</g>
<g class="m-edge">
<title>[A20] bprop_u1:Y&#45;&gt;[A21] bprop_u1:A</title>
<path d="M561.65,-147.57C591.2,-137.24 628.98,-123.52 658.77,-112.31"/>
<polygon points="659.83,-115.28 667.95,-108.47 657.36,-108.73 659.83,-115.28"/>
</g>
<g class="m-node">
<title>[A19] bprop_u4:A</title>
<ellipse cx="513.87" cy="-236.69" rx="100.32" ry="18.27"/>
<text text-anchor="middle" x="513.87" y="-232.89">[A19] bprop_u4:A</text>
</g>
<g class="m-edge">
<title>[A19] bprop_u4:A&#45;&gt;[A20] bprop_u1:Y</title>
<path d="M513.87,-218.2C513.87,-210.66 513.87,-201.65 513.87,-193.2"/>
<polygon points="517.37,-193.22 513.87,-183.22 510.37,-193.22 517.37,-193.22"/>
</g>
<g class="m-node">
<title>[A18] bprop_u4:Y</title>
<ellipse cx="294.87" cy="-309.46" rx="100.32" ry="18.27"/>
<text text-anchor="middle" x="294.87" y="-305.66">[A18] bprop_u4:Y</text>
</g>
<g class="m-edge">
<title>[A18] bprop_u4:Y&#45;&gt;[A30] bprop_u4:B</title>
<path d="M288.96,-290.97C288.18,-283.34 287.95,-274.21 288.26,-265.68"/>
<polygon points="291.8,-266.2 288.98,-255.99 284.81,-265.73 291.8,-266.2"/>
</g>
<g class="m-edge">
<title>[A18] bprop_u4:Y&#45;&gt;[A30] bprop_u4:B</title>
<path d="M300.79,-290.97C301.57,-283.34 301.8,-274.21 301.49,-265.68"/>
<polygon points="304.93,-265.73 300.77,-255.99 297.95,-266.2 304.93,-265.73"/>
</g>
<g class="m-edge">
<title>[A18] bprop_u4:Y&#45;&gt;[A19] bprop_u4:A</title>
<path d="M338.28,-292.58C370.65,-281.71 415.25,-267.28 451.43,-255.94"/>
<polygon points="452.38,-259 460.88,-252.68 450.29,-252.31 452.38,-259"/>
</g>
<g class="m-edge">
<title>[A18] bprop_u4:Y&#45;&gt;[A19] bprop_u4:A</title>
<path d="M346.95,-293.45C381.15,-282.83 425.7,-268.48 460.21,-257"/>
<polygon points="461.2,-260.03 469.57,-253.54 458.98,-253.39 461.2,-260.03"/>
</g>
<g class="m-node">
<title>[A17] bprop_f1:D</title>
<ellipse cx="196.87" cy="-382.23" rx="97.66" ry="18.27"/>
<text text-anchor="middle" x="196.87" y="-378.43">[A17] bprop_f1:D</text>
</g>
<g class="m-edge">
<title>[A17] bprop_f1:D&#45;&gt;[A32] bprop_f1:CLK</title>
<path d="M184.59,-364.06C180.94,-353.66 178.12,-340.09 176.87,-327.85 168.66,-247.24 162.23,-225.04 177.87,-145.54 179.6,-136.74 182.71,-127.54 186.41,-119.29"/>
<polygon points="189.98,-120.97 191.34,-110.47 183.73,-117.83 189.98,-120.97"/>
</g>
<g class="m-edge">
<title>[A17] bprop_f1:D&#45;&gt;[A32] bprop_f1:CLK</title>
<path d="M200.17,-363.58C198.85,-353.24 196.1,-339.9 194.87,-327.85 186.66,-247.24 180.23,-225.04 195.87,-145.54 197.58,-136.84 200.64,-127.74 203.53,-119.57"/>
<polygon points="207.07,-121.06 207.09,-110.47 200.47,-118.73 207.07,-121.06"/>
</g>
<g class="m-edge">
<title>[A17] bprop_f1:D&#45;&gt;[A18] bprop_u4:Y</title>
<path d="M220.6,-364.1C233.14,-355.04 248.73,-343.78 262.39,-333.92"/>
<polygon points="263.97,-336.37 270.03,-327.68 259.87,-330.7 263.97,-336.37"/>
</g>
<g class="m-node m-flat">
<title>[A16] fprop_f1:D</title>
<ellipse cx="430.87" cy="-746.08" rx="94.51" ry="18.27"/>
<text text-anchor="middle" x="430.87" y="-742.28">[A16] fprop_f1:D</text>
</g>
<g class="m-edge">
<title>[A16] fprop_f1:D&#45;&gt;[A17] bprop_f1:D</title>
<path d="M391.1,-729.12C344.89,-707.63 274.87,-664.66 274.87,-601.54 274.87,-601.54 274.87,-601.54 274.87,-526.77 274.87,-480.96 243.82,-435.82 220.9,-408.74"/>
<polygon points="223.01,-406.83 213.8,-401.6 217.74,-411.43 223.01,-406.83"/>
</g>
<g class="m-node m-flat">
<title>[A15] fprop_u4:Y</title>
<ellipse cx="401.87" cy="-818.85" rx="96.75" ry="18.27"/>
<text text-anchor="middle" x="401.87" y="-815.05">[A15] fprop_u4:Y</text>
</g>
<g class="m-edge">
<title>[A15] fprop_u4:Y&#45;&gt;[A16] fprop_f1:D</title>
<path d="M409.04,-800.36C412.24,-792.56 416.08,-783.19 419.64,-774.49"/>
<polygon points="423.23,-775.95 423.79,-765.37 416.76,-773.3 423.23,-775.95"/>
</g>
<g class="m-node m-flat">
<title>[A14] fprop_u4:A</title>
<ellipse cx="202.87" cy="-891.62" rx="96.75" ry="18.27"/>
<text text-anchor="middle" x="202.87" y="-887.82">[A14] fprop_u4:A</text>
</g>
<g class="m-edge">
<title>[A14] fprop_u4:A&#45;&gt;[A15] fprop_u4:Y</title>
<path d="M242.27,-874.56C271.16,-863.85 310.76,-849.74 343.32,-838.53"/>
<polygon points="344.3,-841.55 352.63,-835 342.03,-834.93 344.3,-841.55"/>
</g>
<g class="m-edge">
<title>[A14] fprop_u4:A&#45;&gt;[A15] fprop_u4:Y</title>
<path d="M251.22,-875.44C281.95,-864.97 321.54,-850.94 352.46,-839.6"/>
<polygon points="353.42,-842.61 361.59,-835.87 351,-836.04 353.42,-842.61"/>
</g>
<g class="m-node m-flat">
<title>[A13] fprop_u1:Y</title>
<ellipse cx="202.87" cy="-964.39" rx="96.75" ry="18.27"/>
<text text-anchor="middle" x="202.87" y="-960.59">[A13] fprop_u1:Y</text>
</g>
<g class="m-edge">
<title>[A13] fprop_u1:Y&#45;&gt;[A14] fprop_u4:A</title>
<path d="M202.87,-945.9C202.87,-938.35 202.87,-929.34 202.87,-920.89"/>
<polygon points="206.37,-920.91 202.87,-910.91 199.37,-920.91 206.37,-920.91"/>
</g>
<g class="m-node m-flat">
<title>[A12] fprop_u1:A</title>
<ellipse cx="96.87" cy="-1037.16" rx="96.75" ry="18.27"/>
<text text-anchor="middle" x="96.87" y="-1033.36">[A12] fprop_u1:A</text>
</g>
<g class="m-edge">
<title>[A12] fprop_u1:A&#45;&gt;[A13] fprop_u1:Y</title>
<path d="M116.91,-1018.85C129.98,-1009.47 147.34,-997.79 163.08,-987.74"/>
<polygon points="164.52,-990.33 171.11,-982.04 160.79,-984.41 164.52,-990.33"/>
</g>
<g class="m-edge">
<title>[A12] fprop_u1:A&#45;&gt;[A13] fprop_u1:Y</title>
<path d="M127.83,-1019.39C142.48,-1010.27 159.78,-998.84 174.13,-988.85"/>
<polygon points="175.93,-991.16 182.08,-982.53 171.89,-985.44 175.93,-991.16"/>
</g>
<g class="m-node m-flat">
<title>[A11] fprop_inp1</title>
<ellipse cx="96.87" cy="-1109.93" rx="94.51" ry="18.27"/>
<text text-anchor="middle" x="96.87" y="-1106.13">[A11] fprop_inp1</text>
</g>
<g class="m-edge">
<title>[A11] fprop_inp1&#45;&gt;[A12] fprop_u1:A</title>
<path d="M96.87,-1091.43C96.87,-1083.89 96.87,-1074.88 96.87,-1066.43"/>
<polygon points="100.37,-1066.45 96.87,-1056.45 93.37,-1066.45 100.37,-1066.45"/>
</g>
<g class="m-node m-flat">
<title>[A10] fprop_u1:B</title>
<ellipse cx="308.87" cy="-1037.16" rx="96.75" ry="18.27"/>
<text text-anchor="middle" x="308.87" y="-1033.36">[A10] fprop_u1:B</text>
</g>
<g class="m-edge">
<title>[A10] fprop_u1:B&#45;&gt;[A13] fprop_u1:Y</title>
<path d="M277.91,-1019.39C263.27,-1010.27 245.97,-998.84 231.62,-988.85"/>
<polygon points="233.86,-985.44 223.67,-982.53 229.82,-991.16 233.86,-985.44"/>
</g>
<g class="m-edge">
<title>[A10] fprop_u1:B&#45;&gt;[A13] fprop_u1:Y</title>
<path d="M288.84,-1018.85C275.77,-1009.47 258.41,-997.79 242.67,-987.74"/>
<polygon points="244.96,-984.41 234.63,-982.04 241.22,-990.33 244.96,-984.41"/>
</g>
<g class="m-node m-flat">
<title>[A9] fprop_inp2</title>
<ellipse cx="308.87" cy="-1109.93" rx="89.19" ry="18.27"/>
<text text-anchor="middle" x="308.87" y="-1106.13">[A9] fprop_inp2</text>
</g>
<g class="m-edge">
<title>[A9] fprop_inp2&#45;&gt;[A10] fprop_u1:B</title>
<path d="M308.87,-1091.43C308.87,-1083.89 308.87,-1074.88 308.87,-1066.43"/>
<polygon points="312.37,-1066.45 308.87,-1056.45 305.37,-1066.45 312.37,-1066.45"/>
</g>
<g class="m-node m-flat">
<title>[A8] fprop_out</title>
<ellipse cx="697.87" cy="-600.54" rx="83.38" ry="18.27"/>
<text text-anchor="middle" x="697.87" y="-596.74">[A8] fprop_out</text>
</g>
<g class="m-edge">
<title>[A8] fprop_out&#45;&gt;[A25] bprop_out</title>
<path d="M700.35,-582.05C701.42,-574.42 702.71,-565.29 703.92,-556.76"/>
<polygon points="707.5,-557.46 705.43,-547.06 700.57,-556.48 707.5,-557.46"/>
</g>
<g class="m-node m-flat">
<title>[A7] fprop_u3:Y</title>
<ellipse cx="692.87" cy="-673.31" rx="90.52" ry="18.27"/>
<text text-anchor="middle" x="692.87" y="-669.51">[A7] fprop_u3:Y</text>
</g>
<g class="m-edge">
<title>[A7] fprop_u3:Y&#45;&gt;[A8] fprop_out</title>
<path d="M694.11,-654.82C694.65,-647.19 695.29,-638.06 695.9,-629.53"/>
<polygon points="699.44,-630.06 696.65,-619.83 692.46,-629.56 699.44,-630.06"/>
</g>
<g class="m-node m-flat">
<title>[A6] fprop_u3:A</title>
<ellipse cx="692.87" cy="-746.08" rx="90.52" ry="18.27"/>
<text text-anchor="middle" x="692.87" y="-742.28">[A6] fprop_u3:A</text>
</g>
<g class="m-edge">
<title>[A6] fprop_u3:A&#45;&gt;[A7] fprop_u3:Y</title>
<path d="M686.96,-727.59C686.18,-719.96 685.95,-710.83 686.26,-702.3"/>
<polygon points="689.8,-702.82 686.98,-692.6 682.81,-702.34 689.8,-702.82"/>
</g>
<g class="m-edge">
<title>[A6] fprop_u3:A&#45;&gt;[A7] fprop_u3:Y</title>
<path d="M698.79,-727.59C699.57,-719.96 699.8,-710.83 699.49,-702.3"/>
<polygon points="702.93,-702.34 698.77,-692.6 695.95,-702.82 702.93,-702.34"/>
</g>
<g class="m-node m-flat">
<title>[A5] fprop_u2:Y</title>
<ellipse cx="682.87" cy="-818.85" rx="90.52" ry="18.27"/>
<text text-anchor="middle" x="682.87" y="-815.05">[A5] fprop_u2:Y</text>
</g>
<g class="m-edge">
<title>[A5] fprop_u2:Y&#45;&gt;[A6] fprop_u3:A</title>
<path d="M685.35,-800.36C686.42,-792.73 687.71,-783.6 688.92,-775.07"/>
<polygon points="692.5,-775.76 690.43,-765.37 685.57,-774.78 692.5,-775.76"/>
</g>
<g class="m-node m-flat">
<title>[A4] fprop_u2:A</title>
<ellipse cx="682.87" cy="-891.62" rx="90.52" ry="18.27"/>
<text text-anchor="middle" x="682.87" y="-887.82">[A4] fprop_u2:A</text>
</g>
<g class="m-edge">
<title>[A4] fprop_u2:A&#45;&gt;[A5] fprop_u2:Y</title>
<path d="M676.96,-873.13C676.18,-865.5 675.95,-856.37 676.26,-847.83"/>
<polygon points="679.8,-848.36 676.98,-838.14 672.81,-847.88 679.8,-848.36"/>
</g>
<g class="m-edge">
<title>[A4] fprop_u2:A&#45;&gt;[A5] fprop_u2:Y</title>
<path d="M688.79,-873.13C689.57,-865.5 689.8,-856.37 689.49,-847.83"/>
<polygon points="692.93,-847.88 688.77,-838.14 685.95,-848.36 692.93,-847.88"/>
</g>
<g class="m-node m-flat">
<title>[A3] fprop_u4:B</title>
<ellipse cx="407.87" cy="-891.62" rx="90.52" ry="18.27"/>
<text text-anchor="middle" x="407.87" y="-887.82">[A3] fprop_u4:B</text>
</g>
<g class="m-edge">
<title>[A3] fprop_u4:B&#45;&gt;[A15] fprop_u4:Y</title>
<path d="M400.47,-873.13C399.07,-865.58 398.06,-856.57 397.64,-848.12"/>
<polygon points="401.13,-848.08 397.44,-838.14 394.13,-848.2 401.13,-848.08"/>
</g>
<g class="m-edge">
<title>[A3] fprop_u4:B&#45;&gt;[A15] fprop_u4:Y</title>
<path d="M412.31,-873.13C412.44,-865.5 411.9,-856.37 410.86,-847.83"/>
<polygon points="414.2,-847.5 409.23,-838.14 407.28,-848.56 414.2,-847.5"/>
</g>
<g class="m-node m-flat">
<title>[A2] fprop_f1:Q</title>
<ellipse cx="661.87" cy="-964.39" rx="89.19" ry="18.27"/>
<text text-anchor="middle" x="661.87" y="-960.59">[A2] fprop_f1:Q</text>
</g>
<g class="m-edge">
<title>[A2] fprop_f1:Q&#45;&gt;[A4] fprop_u2:A</title>
<path d="M667.06,-945.9C669.35,-938.18 672.1,-928.93 674.65,-920.32"/>
<polygon points="678.25,-921.49 677.74,-910.91 671.54,-919.5 678.25,-921.49"/>
</g>
<g class="m-edge">
<title>[A2] fprop_f1:Q&#45;&gt;[A3] fprop_u4:B</title>
<path d="M610.47,-949.07C569.9,-937.76 513.13,-921.95 470.01,-909.93"/>
<polygon points="471.21,-906.35 460.63,-907.04 469.33,-913.1 471.21,-906.35"/>
</g>
<g class="m-node m-flat">
<title>[A1] fprop_f1:CLK</title>
<ellipse cx="603.87" cy="-1037.16" rx="101.65" ry="18.27"/>
<text text-anchor="middle" x="603.87" y="-1033.36">[A1] fprop_f1:CLK</text>
</g>
<g class="m-edge">
<title>[A1] fprop_f1:CLK&#45;&gt;[A16] fprop_f1:D</title>
<path d="M580.6,-1018.9C571.28,-1008.92 561.49,-995.78 554.87,-982.77 516.45,-907.22 548.9,-868.89 498.87,-800.47 490.08,-788.43 477.71,-778.17 465.87,-769.96"/>
<polygon points="468.26,-766.68 457.99,-764.08 464.4,-772.52 468.26,-766.68"/>
</g>
<g class="m-edge">
<title>[A1] fprop_f1:CLK&#45;&gt;[A16] fprop_f1:D</title>
<path d="M596.45,-1018.9C589.28,-1008.92 579.49,-995.78 572.87,-982.77 534.45,-907.22 566.9,-868.89 516.87,-800.47 507.51,-787.66 494.11,-776.87 480.61,-768.41"/>
<polygon points="482.69,-764.98 472.3,-762.93 479.14,-771.02 482.69,-764.98"/>
</g>
<g class="m-edge">
<title>[A1] fprop_f1:CLK&#45;&gt;[A2] fprop_f1:Q</title>
<path d="M612.29,-1018.66C618.47,-1010.05 626.92,-999.52 635.15,-990.11"/>
<polygon points="637.18,-992.97 641.26,-983.19 631.97,-988.29 637.18,-992.97"/>
</g>
<g class="m-edge">
<title>[A1] fprop_f1:CLK&#45;&gt;[A2] fprop_f1:Q</title>
<path d="M623.79,-1019.03C631.39,-1010.8 639.84,-1000.77 646.92,-991.62"/>
<polygon points="650.29,-993.96 653.47,-983.85 644.68,-989.77 650.29,-993.96"/>
</g>
<g class="m-node m-flat">
<title>[A0] fprop_tau2015_clk</title>
<ellipse cx="603.87" cy="-1109.93" rx="129.3" ry="18.27"/>
<text text-anchor="middle" x="603.87" y="-1106.13">[A0] fprop_tau2015_clk</text>
</g>
<g class="m-edge">
<title>[A0] fprop_tau2015_clk&#45;&gt;[A1] fprop_f1:CLK</title>
<path d="M603.87,-1091.43C603.87,-1083.89 603.87,-1074.88 603.87,-1066.43"/>
<polygon points="607.37,-1066.45 603.87,-1056.45 600.37,-1066.45 607.37,-1066.45"/>
</g>
</g>
</svg>
</div></section><section id="UseCaseOpenTimerPerformanceImprovement"><h2><a href="#UseCaseOpenTimerPerformanceImprovement">Performance Improvement</a></h2><p>We compare the performance between OpenTimer v1 and v2. We evaluated the runtime versus incremental iterations under 16 CPUs on two industrial circuit designs tv80 (5.3K gates and 5.3K nets) and vga_lcd (139.5K gates and 139.6K nets) with 45nm NanGate cell libraris. Each incremental iteration refers a design modification followed by a timing query to trigger a timing update. In v1, this includes the time to reconstruct the data structure required by OpenMP to alter the task dependencies. In v2, this includes the time to create and launch a new task dependency graph</p><img class="m-image" src="opentimer_2.png" alt="Image" /><p>The scalability of Taskflow is shown in the Figure below. We used two million-scale designs, netcard (1.4M gates) and leon3mp (1.2M gates) to evaluate the runtime of v1 and v2 across different number of CPUs. There are two important observations. First, v2 is slightly slower than v1 at one CPU (3-4%), where all OpenMP&#x27;s constructs are literally disabled. This shows the graph overhead of Taskflow; yet it is negligible. Second, v2 is consistently faster than v1 regardless of CPU numbers except one. This highlights that Taskflow&#x27;s programming model largely improves the design of a parallel VLSI timing engine that would otherwise not be possible with OpenMP.</p><img class="m-image" src="opentimer_3.png" alt="Image" /></section><section id="UseCaseOpenTimerConclusion"><h2><a href="#UseCaseOpenTimerConclusion">Conclusion</a></h2><p>Programming models matter. Different models give different implementations. The parallel code sections may run fast, yet the data structures to support a parallel decomposition strategy may outweigh its parallelism benefits. In OpenTimer v1, loop-based OpenMP code is very fast. But it&#x27;s too costly to maintain the pipeline data structure over iterations.</p></section><section id="UseCaseOpenTimerReferences"><h2><a href="#UseCaseOpenTimerReferences">References</a></h2><ul><li>Tsung-Wei Huang, Guannan Guo, Chun-Xun Lin, and Martin Wong, &quot;<a href="https://tsung-wei-huang.github.io/papers/tcad21-ot2.pdf">OpenTimer v2: A New Parallel Incremental Timing Analysis Engine</a>,&quot; <em>IEEE Transactions on Computer-Aided Design of Integrated Circuits and Systems (TCAD)</em>, vol. 40, no. 4, pp. 776-786, April 2021</li><li>Tsung-Wei Huang, Chun-Xun Lin, Guannan Guo, and Martin Wong, &quot;<a href="ipdps19.pdf">Cpp-Taskflow: Fast Task-based Parallel Programming using Modern C++</a>,&quot; <em>IEEE International Parallel and Distributed Processing Symposium (IPDPS)</em>, pp. 974-983, Rio de Janeiro, Brazil, 2019.</li><li>Tsung-Wei Huang and Martin Wong, &quot;<a href="huang_15_01.pdf">OpenTimer: A High-Performance Timing Analysis Tool</a>,&quot; <em>IEEE/ACM International Conference on Computer-Aided Design (ICCAD)</em>, pp. 895-902, Austin, TX, 2015.</li></ul></section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v2.js"></script>
<script src="searchdata-v2.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>Taskflow handbook is part of the <a href="https://taskflow.github.io">Taskflow project</a>, copyright © <a href="https://tsung-wei-huang.github.io/">Dr. Tsung-Wei Huang</a>, 2018&ndash;2023.<br />Generated by <a href="https://doxygen.org/">Doxygen</a> 1.9.6 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
